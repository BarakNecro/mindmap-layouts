{"version":3,"sources":["webpack:///webpack/bootstrap a9109c7641a810868e29","webpack:///./lib/layouts/non-layered-tidy-trees.js","webpack:///./lib/tree-node.js","webpack:///./lib/bounding-box.js","webpack:///./demo/src/hierarchical.js"],"names":["Tree","constructor","w","h","y","c","x","prelim","mod","shift","change","tl","tr","el","er","msel","mser","cs","length","layout","t","firstWalk","secondWalk","setExtremes","ih","updateIYL","bottom","i","minY","separate","positionRoot","sr","mssr","cl","mscl","lowY","nxt","dist","moveSubtree","index","sy","cy","nextRightContour","nextLeftContour","setLeftThread","setRightThread","si","distributeExtra","modsumcl","li","diff","modsumsr","ri","modsum","addChildSpacing","nr","d","modsumdelta","exports","BoundingBox","require","getTreeBoundingBox","tree","bb","width","Math","max","height","children","forEach","child","tolerance","overlap","xStart","xEnd","xStart2","xEnd2","random","n","floor","TreeNode","hgap","vgap","me","getBoundingBox","moveRight","move","normalizeX","minX","getMinX","res","min","size","hasChildren","overlapsWith","other","allNodes","nodes","push","getDepth","addGap","addSize","hsize","vsize","addGapPerDepth","gapPerDepth","depth","maxDepth","print","console","log","mul","layer","randExpand","r","addKid","add","merge","boundingBox","nonLayeredTidyTrees"],"mappings":"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","file":"demo/hierarchical.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a9109c7641a810868e29","/*\n * @reference: https://github.com/cwi-swat/non-layered-tidy-trees\n */\n\nclass Tree {\n    // Width and height.\n    w = 0;\n    h = 0;\n\n    x = 0;\n    y = 0;\n    prelim = 0;\n    mod = 0;\n    shift = 0;\n    change = 0;\n\n    // Left and right thread.\n    tl = null;\n    tr = null;\n\n    // Extreme left and right nodes.\n    el = null;\n    er = null;\n\n    // Sum of modifiers at the extreme nodes.\n    msel = 0;\n    mser = 0;\n\n    // Array of children and number of children.\n    c = [];\n    cs = 0;\n\n    constructor(w, h, y, c) {\n        this.w = w;\n        this.h = h;\n        this.y = y;\n        this.c = c;\n        this.cs = c.length;\n    }\n}\n\nfunction layout(t) {\n    firstWalk(t);\n    secondWalk(t, 0);\n}\n\nfunction firstWalk(t) {\n    if (t.cs == 0) {\n        setExtremes(t);\n        return;\n    }\n    firstWalk(t.c[0]);\n    // Create siblings in contour minimal vertical coordinate and index list.\n    let ih = updateIYL(bottom(t.c[0].el), 0, null);\n    for (let i = 1; i < t.cs; i++) {\n\n        firstWalk(t.c[i]);\n        //Store lowest vertical coordinate while extreme nodes still point in current subtree.\n        const minY = bottom(t.c[i].er);\n        separate(t, i, ih);\n        ih = updateIYL(minY, i, ih);\n    }\n    positionRoot(t);\n    setExtremes(t);\n}\n\nfunction setExtremes(t) {\n    if (t.cs == 0) {\n        t.el = t;\n        t.er = t;\n        t.msel = t.mser = 0;\n    } else {\n        t.el = t.c[0].el;\n        t.msel = t.c[0].msel;\n        t.er = t.c[t.cs - 1].er;\n        t.mser = t.c[t.cs - 1].mser;\n    }\n}\n\nfunction separate(t, i, ih) {\n    // Right contour node of left siblings and its sum of modfiers.\n    let sr = t.c[i - 1];\n    let mssr = sr.mod;\n    // Left contour node of current subtree and its sum of modfiers.\n    let cl = t.c[i];\n    let mscl = cl.mod;\n    while (sr != null && cl != null) {\n        if (bottom(sr) > ih.lowY) ih = ih.nxt;\n        // How far to the left of the right side of sr is the left side of cl?\n        const dist = (mssr + sr.prelim + sr.w) - (mscl + cl.prelim);\n        if (dist > 0) {\n            mscl += dist;\n            moveSubtree(t, i, ih.index, dist);\n        }\n        const sy = bottom(sr), cy = bottom(cl);\n        // Advance highest node(s) and sum(s) of modifiers (Coordinate system increases downwards)\n        if (sy <= cy) {\n            sr = nextRightContour(sr);\n            if (sr != null) mssr += sr.mod;\n        }\n        if (sy >= cy) {\n            cl = nextLeftContour(cl);\n            if (cl != null) mscl += cl.mod;\n        }\n    }\n    // Set threads and update extreme nodes.\n    if (sr == null && cl != null) {\n        // In the first case, the current subtree must be taller than the left siblings.\n        setLeftThread(t, i, cl, mscl);\n    }\n    else if (sr != null && cl == null) {\n        // In this case, the left siblings must be taller than the current subtree.\n        setRightThread(t, i, sr, mssr);\n    }\n}\n\nfunction moveSubtree(t, i, si, dist) {\n    // Move subtree by changing mod.\n    t.c[i].mod += dist;\n    t.c[i].msel += dist;\n    t.c[i].mser += dist;\n    distributeExtra(t, i, si, dist);\n}\n\n\nfunction nextLeftContour(t) {\n    return t.cs == 0 ? t.tl : t.c[0];\n}\n\nfunction nextRightContour(t) {\n    return t.cs == 0 ? t.tr : t.c[t.cs - 1];\n}\n\nfunction bottom(t) {\n    return t.y + t.h;\n}\n\nfunction setLeftThread(t, i, cl, modsumcl) {\n    const li = t.c[0].el;\n    li.tl = cl;\n    // Change mod so that the sum of modifier after following thread is correct.\n    const diff = (modsumcl - cl.mod) - t.c[0].msel;\n    li.mod += diff;\n    // Change preliminary x coordinate so that the node does not move.\n    li.prelim -= diff;\n    // Update extreme node and its sum of modifiers.\n    t.c[0].el = t.c[i].el;\n    t.c[0].msel = t.c[i].msel;\n}\n\n// Symmetrical to setLeftThread.\nfunction setRightThread(t, i, sr, modsumsr) {\n    const ri = t.c[i].er;\n    ri.tr = sr;\n    const diff = (modsumsr - sr.mod) - t.c[i].mser;\n    ri.mod += diff;\n    ri.prelim -= diff;\n    t.c[i].er = t.c[i - 1].er;\n    t.c[i].mser = t.c[i - 1].mser;\n}\n\nfunction positionRoot(t) {\n    // Position root between children, taking into account their mod.\n    t.prelim = (t.c[0].prelim + t.c[0].mod + t.c[t.cs - 1].mod +\n        t.c[t.cs - 1].prelim + t.c[t.cs - 1].w) / 2 - t.w / 2;\n}\n\nfunction secondWalk(t, modsum) {\n    modsum += t.mod;\n    // Set absolute (non-relative) horizontal coordinate.\n    t.x = t.prelim + modsum;\n    addChildSpacing(t);\n    for (let i = 0; i < t.cs; i++) {\n        secondWalk(t.c[i], modsum);\n    }\n}\n\nfunction distributeExtra(t, i, si, dist) {\n    // Are there intermediate children?\n    if (si != i - 1) {\n        const nr = i - si;\n        t.c[si + 1].shift += dist / nr;\n        t.c[i].shift -= dist / nr;\n        t.c[i].change -= dist - dist / nr;\n    }\n}\n\n// Process change and shift to add intermediate spacing to mod.\nfunction addChildSpacing(t) {\n    let d = 0, modsumdelta = 0;\n    for (let i = 0; i < t.cs; i++) {\n        d += t.c[i].shift;\n        modsumdelta += d + t.c[i].change;\n        t.c[i].mod += modsumdelta;\n    }\n}\n\n// A linked list of the indexes of left siblings and their lowest vertical coordinate.\n// class IYL {\n//     lowY = 0;\n//     index = 0;\n//     nxt = null;\n//\n//     constructor(lowY, index, nxt) {\n//         this.lowY = lowY;\n//         this.index = index;\n//         this.nxt = nxt;\n//     }\n// }\nfunction updateIYL(minY, index, ih) {\n    // Remove siblings that are hidden by the new subtree.\n    while (ih != null && minY >= ih.lowY) {\n        ih = ih.nxt;\n    }\n    // Prepend the new subtree.\n    return {\n        minY,\n        index,\n        nxt: ih,\n    };\n}\n\nexports.Tree = Tree;\nexports.layout = layout;\n\n\n// WEBPACK FOOTER //\n// ./lib/layouts/non-layered-tidy-trees.js","const BoundingBox = require('./bounding-box');\n\nfunction getTreeBoundingBox(tree, bb) {\n    bb.width = Math.max(bb.width, tree.x + tree.width);\n    bb.height = Math.max(bb.height, tree.y + tree.height);\n    tree.children.forEach(child => {\n        getTreeBoundingBox(child, bb);\n    });\n}\n\nconst tolerance = 0.0;\nfunction overlap(xStart, xEnd, xStart2, xEnd2) {\n    return (\n            xStart2 + tolerance < xEnd - tolerance &&\n            xEnd2 - tolerance > xStart + tolerance\n        ) || (\n            xStart + tolerance < xEnd2 - tolerance &&\n            xEnd - tolerance > xStart2 + tolerance\n        );\n}\n\nfunction random(n) {\n    return Math.floor(Math.random() * n);\n}\n\nexports = class TreeNode {\n    // input\n    width = 0;\n    height = 0;\n    children = [];\n    hgap = 0;\n    vgap = 0;\n    x = 0;\n    y = 0;\n\n    constructor(width, height, children) {\n        const me = this;\n        me.width = width;\n        me.height = height;\n        me.children = children;\n    }\n\n    getBoundingBox() {\n        const bb = new BoundingBox(0, 0);\n        return getTreeBoundingBox(this, bb);\n    }\n\n    moveRight(move) {\n        const me = this;\n        me.x += move;\n        me.children.forEach(child => {\n            child.moveRight(move);\n        });\n    }\n\n    normalizeX() {\n        const me = this;\n        const minX = me.getMinX();\n        me.moveRight(-minX);\n    }\n\n    getMinX() {\n        const me = this;\n        let res = me.x;\n        me.children.forEach(child => {\n            res = Math.min(child.getMinX(), res);\n        });\n        return res;\n    }\n\n    size() {\n        const me = this;\n        let res = 1;\n        me.children.forEach(child => {\n            res += child.size();\n        });\n        return res;\n    }\n\n    hasChildren() {\n        return this.size() > 0;\n    }\n\n\n    overlapsWith(other) {\n        const me = this;\n        return (\n            overlap(me.x, me.x + me.width, other.x, other.x + other.width) &&\n            overlap(me.y, me.y + me.height, other.y, other.y + other.height)\n        );\n    }\n\n    allNodes(nodes) {\n        const me = this;\n        nodes.push(me);\n        me.children.forEach(child => {\n            child.allNodes(nodes);\n        });\n    }\n\n    getDepth() {\n        const me = this;\n        let res = 1;\n        me.children.forEach(child => {\n            res = Math.max(res, child.getDepth() + 1);\n        });\n        return res;\n    }\n\n    addGap(hgap, vgap) {\n        const me = this;\n        me.hgap += hgap;\n        me.vgap += vgap;\n        me.width += 2 * hgap;\n        me.height += 2 * vgap;\n        me.children.forEach(child => {\n            child.addGap(hgap, vgap);\n        });\n    }\n\n    addSize(hsize, vsize) {\n        const me = this;\n        me.width += hsize;\n        me.height += vsize;\n        me.forEach(child => {\n            child.addSize(hsize, vsize);\n        });\n    }\n\n    addGapPerDepth(gapPerDepth, depth, maxDepth) {\n        const me = this;\n        me.hgap += (maxDepth - depth) * gapPerDepth;\n        me.width += 2 * (maxDepth - depth) * gapPerDepth;\n        me.forEach(child => {\n            child.addGapPerDepth(gapPerDepth, depth + 1, maxDepth);\n        })\n    }\n\n    print() {\n        const me = this;\n        console.log(`new TreeNode(${me.x}, ${me.y}, ${me.width}, ${me.height}`);\n        me.forEach(child => {\n            console.log(', ');\n            child.print();\n        });\n        console.log(')');\n    }\n\n    mul(w, h) {\n        const me = this;\n        me.width *= w;\n        me.height *= h;\n        me.children.forEach(child => {\n            child.mul(w, h);\n        });\n    }\n\n    layer(d) {\n        const me = this;\n        me.y = d;\n        d += me.height;\n        me.children.forEach(child => {\n            child.layer(d);\n        });\n    }\n\n    randExpand(t, r) {\n        const me = this;\n        t.y += me.height;\n        const size = me.children.length;\n        let i = random(size + 1);\n        if (i === size) {\n            me.addKid(t);\n        } else {\n            me.children[i].randExpand(t, r);\n        }\n    }\n\n    addKid(t) {\n        this.children.add(t);\n    }\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tree-node.js","exports = class BoundingBox {\n  width = 0;\n  height = 0;\n\n  constructor(w, h) {\n    const me = this;\n    me.width = w;\n    me.height = h;\n  }\n\n  merge(boundingBox) {\n    const me = this;\n    return new BoundingBox(\n      Math.max(me.width, boundingBox.width),\n      Math.max(me.height, boundingBox.height)\n    );\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bounding-box.js","const TreeNode = require('../../lib/tree-node');\nconst nonLayeredTidyTrees = require('../../lib/layouts/non-layered-tidy-trees');\n\nconsole.log(TreeNode, nonLayeredTidyTrees);\n\n\n\n// WEBPACK FOOTER //\n// ./demo/src/hierarchical.js"],"sourceRoot":""}